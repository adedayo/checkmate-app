<div class="relative bg-white min-w-full h-full rounded-lg shadow flex flex-col ">
  <div class="flex justify-between bg-purple-800 text-lg text-center px-2">
    <p class="py-4 text-purple-50 text-base min-w-max">{{projectSummary.Name}}</p>
    <fa-icon class="text-purple-50 self-center" size="lg" [icon]="faCog"></fa-icon>
  </div>
  <div *ngIf='projectSummary.LastScore' class="flex pl-2  bg-purple-50">
    <p class="self-center text-purple-900 absolute font-bold text-xl">Grade</p>
    <span class="w-full"></span>
    <div class="w-20 h-20 min-w-0 flex items-center place-content-center text-6xl text-purple-900">
      {{projectSummary.LastScore.Grade}}</div>
    <span class="w-full"></span>
  </div>
  <div class="w-full bg-gray-200 flex items-center">
    <ngx-charts-line-chart class="w-full pl-2 py-2" [scheme]="colorScheme" [legend]="legend"
      [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel" [xAxis]="xAxis" [yAxis]="yAxis"
      [xAxisLabel]="xAxisLabel" [yAxisLabel]="yAxisLabel" [timeline]="timeline" [autoScale]="autoScale"
      [results]="multi" (select)="onSelect($event)" (activate)="onActivate($event)" (deactivate)="onDeactivate($event)">
    </ngx-charts-line-chart>
  </div>
  <div class="px-2 py-2 h-full ">
    <div class="h-full">
      <div class="text-sm font-medium text-purple-800 truncate">Code Repositories</div>
      <div *ngIf="projectSummary.Repositories">
        <div *ngFor="let repo of projectSummary.Repositories"
          class="grid grid-cols-12 mt-1 px-2 text-xs font-semibold ">
          <span class="uppercase text-gray-500 ">{{displayType(repo.LocationType)}}</span>
          <div class="col-span-11 text-purple-900">{{repo.Location}}</div>
        </div>
      </div>
    </div>
  </div>
  <div class="px-2 py-2 bg-gray-200 flex flex-col">
    <div class="flex items-center">
      <div class="text-xs text-gray-500">Scanning</div>
      <div class="pl-1 w-full text-xs text-purple-900">{{currentFile}}</div>
    </div>
    <div class="flex items-center">
      <div class="text-xs text-gray-500">Progress</div>
      <div class="pl-2 w-full">
        <mat-progress-bar mode="determinate" value="{{progress}}"></mat-progress-bar>
      </div>
    </div>
  </div>
  <div class="flex px-2 py-4 bg-purple-100 justify-between">
    <div *ngIf='projectSummary.LastScan' class="flex w-full">
      <div class="text-purple-900 text-sm font-bold min-w-max">Last Scan:</div>
      <div class="pl-2 text-sm  text-purple-800 min-w-max">{{projectSummary.LastScan | date : "E
        MMM dd,
        yyyy. H:mm:ss z"
        }}
      </div>
    </div>
    <button class="focus:outline-none" (click)="runScan()">
      <fa-icon class="text-purple-800" title="Scan" size="lg" [icon]="faPlayCircle">
      </fa-icon>
    </button>

  </div>
</div>
